<html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Share News on Facebook Canada</title>

<script type="text/javascript">
function createurl(){
	
	var url = document.getElementById("url");
	var urlvalue = url.value;
	var urlleft = urlvalue.substring(0,4);
	var engine = document.getElementById("engine").value;

	var search = "";
	var suffix = "";
 
	if (urlleft == "http") {

		if (engine == "bing") {
			search = "https://www.bing.com/search?q=";
			suffix = "&count=1";
		} else {
			search = "https://www.google.com/search?q=";
			suffix = "&btnI";
		}

		var url2 = search.concat(urlvalue);
		url2 = url2.concat(suffix);

		var urlshare = document.getElementById("urlshare");
		urlshare.value = url2;
		copyurlshare();
	}
	else {
		alert("Please enter a news story link starting with http or https");
		url.focus();
	}
};

function viewurlshare(){
	var urlshare = document.getElementById("urlshare");
	var urlsharevalue = urlshare.value;
	var urlshareleft = urlsharevalue.substring(0,4);
	if (urlshareleft == "http") {	
		window.location.href = urlsharevalue;
	}
}

function copyurlshare(){
	var urlshare = document.getElementById("urlshare");
	var urlsharevalue = urlshare.value;
	urlshare.select();
	navigator.clipboard.writeText(urlsharevalue);
}

</script>
</head>

<body>
<h1>Share News on Facebook Canada</h1>
<ol>
<li>Insert a link to a news story you want to share on Facebook Canada.</li>
<li>Click the Transform Link button. The tool generates a Bing search link featuring just one result, your link to the news story.</li>
<li>Click the View Link button to confirm the result. Bing sometimes delays indexing a page, so you can try the Google search option. 
<li>Copy and share the generated link on Facebook. You may wish to cancel the Facebook preview.</li>
</ol>
<p><input type="url" name="url" id="url" placeholder="https://newsstory.com" pattern="https://.*" required />
<p><select name="engine" id="engine">
<option value="bing">Bing (recommended)</option>
<option value="google">Google's Feeling Lucky Search (beta)</option>
</select>
<p><input id="butCreate" type="button" value="Transform Link" onclick="createurl();" />
<p><input type="text" name="urlshare" id="urlshare" />
<p><input id="butView" type="button" value="View Link" onclick="viewurlshare();" />
<input id="butCopy" type="button" value="Copy Link" onclick="copyurlshare();" />

<h2>More Information</h2>
<p>This work is shared to the public domain <a href="https://creativecommons.org/publicdomain/zero/1.0/">(CCO 1.0)</a> at <a href="https://github.com/johnmiedema/sharenewscanada">GitHub</a>
<p>Contact the creator at <a href="https://johnmiedema.art/">johnmiedema.art</a>.
</body>

</html>
